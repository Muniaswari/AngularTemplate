<div [@routerTransition]>
    <app-page-header [heading]="'Master'" [icon]="'fa-list'">
        Master
    </app-page-header>
    <div class="row">
        <div class="col-sm-12">
            <div class="card">
                <div class="card-header">{{ 'Master.FieldSettings' | translate }} for {{rolename}}
                    <div class="btn-group btn-group-sm pull-right" role="group" aria-label="">
                        <a class="btn btn-secondary" href="Javascript:void(0)" [routerLink]="['/settings/master']">
                            <i class="fa fa-list"></i>
                        </a>
                        <a class="btn btn-secondary" href="Javascript:void(0)" (click)="save()">
                            <i class="fa fa-save"></i>
                        </a>
                    </div>
                </div>
                <div class="card-body">
                    <div class="row show-hide-message">
                        <div [ngClass]="messageClass">
                            {{ message }}
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-4">
                            <label class="heading">Select Roles</label>
                            <input type="text" id="txtFilter" class="form-control" placeholder="Type here for search" (keyup)="displaydata($event)" />
                            <div id="checkboxes" #checkboxes>
                                <table class="table table-bordered table-hover" id="tblRole" *ngIf='formlist && formlist.length>0'>
                                    <tr *ngFor="let item of formlist; ">
                                        <td>
                                            <label class="checkcontainer">{{item.rolename}}
                                                <input type="radio" [checked]="IschkRoles" name="chkRoles" value="{{item._id}}" (click)="selectedRole($event)" #chk{{item._id}}
                                                    id="{{item._id}}">
                                                <span class="checkmark"></span>
                                            </label>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <div class="col-sm-8">
<label class="heading">Select Forms</label>
                            <table class="table table-bordered">
                                <thead>
                                    <tr>
                                        <th style="display: none;"></th>
                                        <th>{{ 'Users.FormName' | translate }}</th>
                                        <th>
                                            <input type="checkbox" id="chkAdd" (click)="selectAll('chkAdd',$event.target.checked)" /> {{ 'Permission.Add' | translate }}</th>
                                        <th>
                                            <input type="checkbox" id="chkEdit" (click)="selectAll('chkEdit',$event.target.checked)" /> {{ 'Permission.Edit' | translate }} </th>
                                        <th>
                                            <input type="checkbox" id="chkView" (click)="selectAll('chkView',$event.target.checked)" /> {{ 'Permission.View' | translate }}</th>
                                        <th>
                                            <input type="checkbox" id="chkReport" (click)="selectAll('chkReport',$event.target.checked)" /> {{ 'Permission.Report' | translate }}</th>
                                        <th>
                                            <input type="checkbox" id="chkDelete" (click)="selectAll('chkDelete',$event.target.checked)" /> {{ 'Permission.Delete' | translate }}</th>
                                    </tr>
                                </thead>

                                <tbody id="tblBody">
                                    <tr *ngFor="let item of list; ">
                                        <td style="display: none;">{{item._id}}</td>
                                        <td>
                                            {{item.FormName}}
                                            <td>
                                                <input type="checkbox" [(ngModel)]="item.Add" class="chkAdd" [checked]="IschkAdd" id="chkitem._id" value="item._id" (click)="selectHeaderCheck('chkAdd',$event.target.checked)"
                                                /> </td>
                                            <td>
                                                <input type="checkbox" [(ngModel)]="item.Edit" class="chkEdit" id="chkitem._id" [checked]="IschkEdit" value="item._id" (click)="selectHeaderCheck('chkEdit',$event.target.checked)"
                                                /> </td>
                                            <td>
                                                <input type="checkbox" [(ngModel)]="item.View" class="chkView" id="chkitem._id" [checked]="IschkView" value="item._id" (click)="selectHeaderCheck('chkView',$event.target.checked)"
                                                /> </td>
                                            <td>
                                                <input type="checkbox" [(ngModel)]="item.Report" class="chkReport" id="chkitem._id" [checked]="IschkReport" value="item._id"
                                                    (click)="selectHeaderCheck('chkReport',$event.target.checked)" /> </td>
                                            <td>
                                                <input type="checkbox" [(ngModel)]="item.Delete" class="chkDelete" id="chkitem._id" [checked]="IschkDelete" value="item._id"
                                                    (click)="selectHeaderCheck('chkDelete',$event.target.checked)" /> </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>